
#http://localhost:8082/timesheet-devops/...
#http://localhost:6868/timesheet-devops/retrieve-all-users

## Server configuration
server.port=${PORT:8082}
server.servlet.context-path=${CONTEXT_PATH:/timesheet-devops}

## Security-related HTTP and session settings
# Use reverse-proxy headers when present (for correct scheme/host)
server.forward-headers-strategy=framework
# Safer cookie defaults
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=${COOKIE_SECURE:true}
# Spring Boot 2.6+ supports SameSite; for 2.5 keep off or set at proxy
# server.servlet.session.cookie.same-site=strict

## Error handling: avoid exposing details
server.error.include-message=never
server.error.include-stacktrace=never

## Compression
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain

## Management endpoints: expose health/info only
management.endpoints.web.exposure.include=health,info
management.endpoint.health.show-details=never
management.endpoint.health.probes.enabled=true

## DATABASE (use environment variables; defaults are safe and non-root)
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://mysql:3306/timesheet?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:app}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:change-me}

## JPA / Hibernate (avoid schema changes by default)
spring.jpa.show-sql=false
spring.jpa.hibernate.ddl-auto=none
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5InnoDBDialect

## Logging to console (let platform handle log files)
logging.level.com.zaxxer.hikari=warn
logging.level.org.springframework=warn
logging.level.root=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %-5level - %logger{60} - %msg%n
 
